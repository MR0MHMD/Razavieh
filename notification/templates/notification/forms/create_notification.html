{% extends 'parent/base.html' %}
{% load static %}

{% block title %}Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ø¬Ø¯ÛŒØ¯{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/parent/forms.css' %}">
    {{ form.media }}
{% endblock %}

{% block body %}
    <section class="form-section fade-up">
        <div class="form-wrapper container">
            <h1 class="form-title">Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ø¬Ø¯ÛŒØ¯</h1>

            <form method="post" enctype="multipart/form-data" class="form-container">
                {% csrf_token %}
                {{ form.as_div }}

                <!-- ğŸ¯ Ø¯Ú©Ù…Ù‡ Ø«Ø¨Øª -->
                <div class="form-actions">
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Ø«Ø¨Øª Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡</button>
                    </div>
                </div>
            </form>
        </div>
    </section>
{% endblock %}
{% block scripts %}
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const realFileInput = document.querySelector('input[type="file"]');
            const label = document.createElement("label");
            const wrapper = document.createElement("div");
            const fileName = document.createElement("span");

            wrapper.className = "file-upload-wrapper";
            label.className = "file-upload-label";
            label.innerHTML = '<i class="fas fa-upload"></i> Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„';
            fileName.className = "file-name";
            fileName.textContent = "Ù‡ÛŒÚ† ÙØ§ÛŒÙ„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª";

            realFileInput.parentNode.insertBefore(wrapper, realFileInput);
            wrapper.appendChild(label);
            wrapper.appendChild(realFileInput);
            wrapper.appendChild(fileName);

            label.addEventListener("click", () => realFileInput.click());

            realFileInput.addEventListener("change", () => {
                if (realFileInput.files.length > 1) {
                    fileName.textContent = `${realFileInput.files.length} ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯`;
                } else if (realFileInput.files.length === 1) {
                    fileName.textContent = realFileInput.files[0].name;
                } else {
                    fileName.textContent = "Ù‡ÛŒÚ† ÙØ§ÛŒÙ„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª";
                }
            });
        });
    </script>
{% endblock %}