{% extends 'parent/base.html' %}
{% load static %}
{% load jformat %}

{% block title %}{{ notification.title }}{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'notification/css/notification_detail.css' %}">
{% endblock %}

{% block body %}
    <section class="notification-detail container">

        <!-- ðŸ“¸ ØªØµÙˆÛŒØ± Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ -->
        <div class="notification-detail container">

            <!-- ðŸŽ¬ Ù¾ÙˆØ³ØªØ± Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ -->
            <div class="poster-image-box">
                <img src="{{ notification.image.url }}" alt="{{ notification.title }}">
            </div>

            <!-- ðŸ“‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ -->
            <div class="poster-info-box">

                <h1 class="poster-title">{{ notification.title }}</h1>

                <div class="poster-meta">
                    <div class="meta-item">
                        <img src="{% static 'report/icons/date.svg' %}" alt="date">
                        <span class="meta-label">ØªØ§Ø±ÛŒØ® Ø¨Ø±Ú¯Ø²Ø§Ø±ÛŒ:</span>
                        <span class="meta-value">{{ notification.date|jformat:"%Y/%m/%d" }}</span>
                    </div>
                    {% if notification.location %}
                        <div class="meta-item">
                            <img src="{% static 'icons/location.svg' %}" alt="location" class="location">
                            <span class="meta-label">Ù…Ú©Ø§Ù†:</span>
                            <span class="meta-value">{{ notification.location }}</span>
                        </div>
                    {% endif %}
                </div>

                <div class="poster-content">
                    <h3>ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡</h3>
                    <p>{{ notification.content|linebreaks }}</p>
                </div>

                {% if notification.tags.all %}
                    <div class="poster-tags">
                        {% for tag in notification.tags.all %}
                            <a href="{% url 'notification:notification_list_by_tags' tag.slug %}?tag={{ tag.slug }}" class="tag-item">
                                #{{ tag.name }}
                            </a>
                        {% endfor %}
                    </div>
                {% endif %}

                <a href="{% url 'notification:notification_list' %}" class="btn btn-outline">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§</a>
            </div>
        </div>

    </section>
{% endblock %}

{% block scripts %}
    <script>
        document.addEventListener("scroll", () => {
            const box = document.querySelector(".poster-info-box");
            if (box) {
                const scroll = window.scrollY * 0.25;
                box.style.setProperty("--scroll", `${scroll}px`);
            }
        });
    </script>
{% endblock %}