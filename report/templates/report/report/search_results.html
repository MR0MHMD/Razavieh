{% extends 'parent/base.html' %}
{% load static %}

{% block title %}نتایج جستجو{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'report/css/report/search_results.css' %}">
{% endblock %}

{% block body %}
<div class="container search-results-container">
    <h1>نتایج جستجو</h1>

    {% if query %}
        <p class="search-query">عبارت جستجو: <strong>{{ query }}</strong></p>

        {% if results %}
            <div class="report-list">
                {% for report in results %}
                    <div class="report-card">
                        <h3><a href="{{ report.get_absolute_url }}">{{ report.title }}</a></h3>
                        <p class="report-desc">{{ report.description|truncatewords:25 }}</p>
                        <div class="report-meta">
                            <span>تاریخ: {{ report.date }}</span>
                            <span>بازدید: {{ report.views }}</span>
                            <span>لایک: {{ report.likes }}</span>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="no-results">موردی یافت نشد 😔</p>
        {% endif %}
    {% else %}
        <p class="empty-search">لطفاً عبارتی را برای جستجو وارد کنید 🔍</p>
    {% endif %}
</div>
{% endblock %}