{% extends 'parent/base.html' %}
{% load static %}
{% block title %}Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±ÛŒ{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'accounts/css/profile.css' %}">
{% endblock %}

{% block body %}
    <div class="profile-wrapper container">
        {% if user.is_superuser %}
            <div class="super-user">
                <a class="btn btn-primary" href="{% url 'report:create_report' %}">Ø§ÙØ²ÙˆØ¯Ù† Ú¯Ø²Ø§Ø±Ø´</a>
                <a class="btn btn-primary" href="{% url 'notification:create_notification' %}">Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø·Ù„Ø§Ø¹ Ø±Ø³Ø§Ù†ÛŒ</a>
                <a class="btn btn-primary" href="{% url 'blog:creat_post' %}">Ø§ÙØ²ÙˆØ¯Ù† Ø®Ø¨Ø±</a>
            </div>
        {% endif %}

        <!-- Ù‡Ø¯Ø± -->
        <div class="profile-header card">
            <div class="profile-avatar">
                {% if user.photo %}
                    <img src="{{ user.photo.url }}" alt="{{ user.username }}">
                {% else %}
                    <img src="{% static 'default.png' %}" alt="Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ±">
                {% endif %}
            </div>
            <div class="profile-info">
                <h2>{{ user.get_full_name|default:user.username }}</h2>
                <p class="bio">{{ user.bio|default:"Ú©Ø§Ø±Ø¨Ø± Ù…Ø³Ø¬Ø¯ Ø±Ø¶ÙˆÛŒÙ‡ ğŸŒ™" }}</p>
                <p class="join-date">Ø¹Ø¶Ùˆ Ø´Ø¯Ù‡ Ø¯Ø± {{ user.joined_jalali|date:"Y/m/d" }}</p>
                <a href="{% url 'accounts:edit_profile' %}" class="edit-btn">ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ âœï¸</a>
            </div>
        </div>

        <!-- ØªØ¨â€ŒÙ‡Ø§ -->
        <div class="tabs card">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="info">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</button>
                <button class="tab-btn" data-tab="liked">Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù„Ø§ÛŒÚ©â€ŒØ´Ø¯Ù‡</button>
            </div>

            <div class="tab-content active" id="info">
                <ul class="info-list">
                    <li><strong>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</strong> {{ user.username }}</li>
                    <li><strong>Ø§ÛŒÙ…ÛŒÙ„:</strong> {{ user.email }}</li>
                </ul>
            </div>

            <div class="tab-content" id="liked">
                {% if liked_reports %}
                    <ul class="liked-list">
                        {% for item in liked_reports %}
                            <li class="liked-item">
                                <a href="{{ item.report.get_absolute_url }}">
                                    <span>{{ item.report.title }}</span>
                                    <span class="like-icon">â¤ï¸</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p class="no-likes">Ú¯Ø²Ø§Ø±Ø´ÛŒ Ø±Ø§ Ù„Ø§ÛŒÚ© Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>
                {% endif %}
            </div>
        </div>
    </div>

    <script src="{% static 'accounts/js/profile.js' %}"></script>
{% endblock %}