{% extends 'parent/base.html' %}
{% load static %}

{% block title %}Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¯Ù…ÛŒ{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'donation/css/donation.css' %}">
{% endblock %}

{% block body %}
    <section class="donation-section container">
        <h2 class="section-title">ğŸ’š Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¯Ù…ÛŒ</h2>

        <div class="donation-grid">
            {% for card in cards %}
                <article class="donation-card"
                         data-card="{{ card.card_number }}"
                         data-sheba="{{ card.sheba_number }}"
                         data-link="{{ card.link|default:'' }}">
                    <header class="donation-card-header">
                        <h3 class="donation-title">{{ card.title }}</h3>
                    </header>

                    <div class="donation-media">
                        <img src="{{ card.image.url }}" alt="{{ card.title }}" class="donation-img">
                    </div>
                </article>
            {% empty %}
                <p>ÙØ¹Ù„Ø§Ù‹ Ù‡ÛŒÚ† Ú©Ø§Ø±Øª ÙØ¹Ø§Ù„ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>
            {% endfor %}
        </div>
    </section>

    <!-- Ù…ÙˆØ¯Ø§Ù„ -->
    <div class="donation-modal" id="donationModal" aria-hidden="true" role="dialog" aria-label="Ø¹Ù…Ù„ÛŒØ§Øª Ú©Ø§Ø±Øª Ù¾Ø±Ø¯Ø§Ø®Øª">
        <div class="donation-modal-backdrop" id="donationBackdrop"></div>
        <div class="donation-modal-panel" role="document" aria-modal="true">
            <button class="modal-close" id="donationModalClose" aria-label="Ø¨Ø³ØªÙ†">&times;</button>
            <div class="modal-body">
                <h3 id="modalTitle">Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù…Ù„ÛŒØ§Øª</h3>
                <p id="modalCardLabel" class="muted">Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª: <span id="modalCard"></span></p>
                <p id="modalShebaLabel" class="muted">Ø´Ù…Ø§Ø±Ù‡ Ø´Ø¨Ø§: <span id="modalSheba"></span></p>

                <div class="modal-actions">
                    <button class="btn action-copy" id="copyCardBtn">ğŸ“‹ Ú©Ù¾ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª</button>
                    <button class="btn action-copy" id="copyShebaBtn">ğŸ“„ Ú©Ù¾ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ø´Ø¨Ø§</button>
                    <button class="btn action-link" id="openLinkBtn">ğŸ’³ Ù¾Ø±Ø¯Ø§Ø®Øª (Ø¨Ù„Ù‡)</button>
                </div>

                <div id="modalToast" class="modal-toast" role="status" aria-live="polite"></div>
            </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    <script src="{% static 'donation/js/donation.js' %}"></script>
{% endblock %}